@import "tailwindcss";

@theme {
  --font-sans: "Instrument Sans", "Manrope", ui-sans-serif, sans-serif;
  --font-display: "Bebas Neue", "Impact", sans-serif;
  --font-mono: "Azeret Mono", "IBM Plex Mono", ui-monospace, monospace;

  --color-surface-0: #07090d;
  --color-surface-1: #0d121b;
  --color-surface-2: #151c28;
  --color-surface-3: #1c2535;
  --color-surface-4: #273347;

  --color-border-subtle: #253042;
  --color-border-default: #33425a;
  --color-border-hover: #455978;

  --color-text-primary: #f4f0e8;
  --color-text-secondary: #a6afbf;
  --color-text-tertiary: #748099;

  --color-accent: #f97316;
  --color-accent-hover: #fb923c;
  --color-accent-muted: #f9731633;

  --color-error: #fb7185;
  --color-error-muted: #fb718533;
  --color-warning: #facc15;
  --color-warning-muted: #facc1533;
  --color-success: #22c55e;
  --color-success-muted: #22c55e33;
  --color-info: #22d3ee;
}

@layer base {
  * {
    box-sizing: border-box;
  }

  html, body, #root {
    margin: 0;
    min-height: 100vh;
  }

  body {
    position: relative;
    isolation: isolate;
    background:
      radial-gradient(1200px 680px at 108% -12%, rgb(249 115 22 / 0.26) 0%, transparent 60%),
      radial-gradient(900px 540px at -22% 100%, rgb(34 211 238 / 0.19) 0%, transparent 62%),
      linear-gradient(155deg, #07090d 0%, #0a1018 45%, #121b28 100%);
    color: var(--color-text-primary);
    font-family: var(--font-sans);
    line-height: 1.5;
    letter-spacing: 0.005em;
    -webkit-font-smoothing: antialiased;
  }

  body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    opacity: 0.44;
    background:
      linear-gradient(115deg, rgb(249 115 22 / 0.07), transparent 34%),
      repeating-linear-gradient(
        0deg,
        rgb(255 255 255 / 0.03) 0px,
        rgb(255 255 255 / 0.03) 1px,
        transparent 1px,
        transparent 4px
      );
    z-index: -2;
  }

  body::after {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -1;
    opacity: 0.22;
    background-image: radial-gradient(circle at 1px 1px, rgb(255 255 255 / 0.2) 1px, transparent 0);
    background-size: 3px 3px;
    mix-blend-mode: soft-light;
  }

  a {
    color: inherit;
    text-decoration: none;
  }

  ::selection {
    background: var(--color-accent-muted);
    color: var(--color-accent);
  }
}

@layer components {
  .app-shell {
    position: relative;
  }

  .topbar-shell {
    border: 1px solid #3e4e67;
    border-radius: 16px;
    background:
      linear-gradient(120deg, rgb(249 115 22 / 0.14), transparent 36%),
      linear-gradient(180deg, rgb(20 28 40 / 0.98), rgb(11 16 24 / 0.98));
    box-shadow:
      0 16px 38px rgb(0 0 0 / 0.36),
      inset 0 1px 0 rgb(255 255 255 / 0.08);
  }

  .brand-lockup {
    display: grid;
    line-height: 0.95;
  }

  .brand-kicker {
    font-family: var(--font-mono);
    font-size: 0.55rem;
    text-transform: uppercase;
    letter-spacing: 0.34em;
    color: var(--color-text-tertiary);
    margin-bottom: 0.1rem;
  }

  .brand-title {
    font-family: var(--font-display);
    font-size: 1.78rem;
    letter-spacing: 0.07em;
    color: var(--color-text-primary);
    text-shadow: 0 0 20px rgb(249 115 22 / 0.25);
  }

  .brand-title span {
    color: var(--color-accent);
  }

  .nav-pill {
    border: 1px solid transparent;
    border-radius: 999px;
    padding: 0.45rem 0.95rem;
    font-size: 0.72rem;
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-text-secondary);
    transition:
      color 180ms ease,
      border-color 180ms ease,
      background-color 180ms ease,
      transform 180ms ease,
      box-shadow 180ms ease;
  }

  .nav-pill:hover {
    color: var(--color-text-primary);
    border-color: rgb(251 146 60 / 0.45);
    background: rgb(251 146 60 / 0.08);
    transform: translateY(-1px);
  }

  .nav-pill.is-active {
    color: #170e04;
    border-color: rgb(251 146 60 / 0.72);
    background: linear-gradient(145deg, var(--color-accent-hover), var(--color-accent));
    box-shadow: 0 8px 20px rgb(249 115 22 / 0.32);
  }

  .toolbar-chip {
    border: 1px solid var(--color-border-default);
    border-radius: 999px;
    padding: 0.35rem 0.85rem;
    font-size: 0.67rem;
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    background: rgb(255 255 255 / 0.03);
  }

  .content-stage {
    width: min(100%, 80rem);
    margin-inline: auto;
    padding: 1.5rem 1rem 2.2rem;
    animation: drift-in 380ms cubic-bezier(0.17, 0.67, 0.32, 1);
  }

  .media-header {
    margin-bottom: 1.35rem;
    padding: 0.9rem 0;
    border-bottom: 1px solid rgb(255 255 255 / 0.08);
  }

  .section-kicker {
    display: inline-flex;
    padding: 0.22rem 0.55rem;
    border-radius: 999px;
    border: 1px solid rgb(251 146 60 / 0.36);
    color: rgb(255 213 178 / 0.9);
    background: rgb(249 115 22 / 0.12);
    font-family: var(--font-mono);
    font-size: 0.58rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
  }

  .section-title {
    font-family: var(--font-display);
    font-size: clamp(2rem, 5.4vw, 3rem);
    letter-spacing: 0.045em;
    line-height: 0.96;
    margin-top: 0.45rem;
  }

  .section-subtitle {
    color: var(--color-text-secondary);
    max-width: 52ch;
    margin-top: 0.38rem;
    font-size: 0.94rem;
  }

  .search-shell {
    position: relative;
    width: 100%;
    max-width: 20rem;
  }

  .search-icon {
    position: absolute;
    left: 0.9rem;
    top: 50%;
    transform: translateY(-50%);
    display: inline-flex;
    color: var(--color-text-tertiary);
    pointer-events: none;
  }

  .search-input {
    width: 100%;
    border-radius: 999px;
    border: 1px solid var(--color-border-default);
    background:
      linear-gradient(130deg, rgb(249 115 22 / 0.08), transparent 42%),
      var(--color-surface-2);
    color: var(--color-text-primary);
    padding: 0.63rem 1rem 0.63rem 2.6rem;
    font-size: 0.88rem;
    transition:
      border-color 180ms ease,
      box-shadow 180ms ease,
      background-color 180ms ease;
  }

  .search-input::placeholder {
    color: var(--color-text-tertiary);
  }

  .search-input:focus {
    outline: none;
    border-color: rgb(251 146 60 / 0.72);
    box-shadow:
      0 0 0 2px rgb(7 9 13 / 0.95),
      0 0 0 5px rgb(249 115 22 / 0.24);
  }

  .poster-card {
    border-radius: 13px;
    overflow: hidden;
    position: relative;
    border: 1px solid #354155;
    background: var(--color-surface-2);
    transition:
      transform 220ms ease,
      border-color 220ms ease,
      box-shadow 220ms ease;
  }

  .poster-card::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(130deg, rgb(249 115 22 / 0.22), transparent 42%);
    opacity: 0;
    transition: opacity 220ms ease;
    z-index: 1;
    pointer-events: none;
  }

  .poster-card::after {
    content: "";
    position: absolute;
    inset: 0;
    border: 1px solid rgb(255 255 255 / 0.16);
    border-radius: 13px;
    opacity: 0;
    transition: opacity 220ms ease;
    pointer-events: none;
    z-index: 3;
  }

  .poster-card:hover {
    border-color: rgb(251 146 60 / 0.7);
    transform: translateY(-4px) rotate(-0.35deg) scale(1.01);
    box-shadow:
      0 24px 32px rgb(0 0 0 / 0.4),
      0 0 0 1px rgb(249 115 22 / 0.25);
  }

  .poster-card:hover::before,
  .poster-card:hover::after {
    opacity: 1;
  }

  .poster-card:hover img {
    transform: scale(1.04);
  }

  .poster-fallback {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 1rem;
    background:
      radial-gradient(circle at 8% 6%, rgb(34 211 238 / 0.22), transparent 46%),
      linear-gradient(160deg, var(--color-surface-3), var(--color-surface-2));
  }

  .poster-fallback span {
    max-width: 14ch;
    color: var(--color-text-secondary);
    font-family: var(--font-mono);
    font-size: 0.76rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
  }

  .poster-caption {
    position: absolute;
    inset-inline: 0;
    bottom: 0;
    background: linear-gradient(to top, rgb(5 7 11 / 0.96), rgb(5 7 11 / 0.62), transparent);
    padding: 4rem 0.78rem 0.72rem;
    z-index: 2;
  }

  .poster-caption p {
    text-shadow: 0 2px 10px rgb(0 0 0 / 0.52);
  }

  .unidentified-checkbox {
    appearance: none;
    width: 1.1rem;
    height: 1.1rem;
    border-radius: 0.38rem;
    border: 1px solid #3f4b6d;
    background: linear-gradient(165deg, #25314c 0%, #1a2236 100%);
    background-repeat: no-repeat;
    background-position: center;
    background-size: 0.72rem 0.72rem;
    box-shadow:
      inset 0 1px 0 rgb(255 255 255 / 0.1),
      inset 0 -1px 0 rgb(0 0 0 / 0.35),
      0 0 0 1px rgb(7 10 17 / 0.8);
    cursor: pointer;
    transition:
      border-color 140ms ease,
      background 140ms ease,
      box-shadow 140ms ease,
      transform 120ms ease;
  }

  .unidentified-checkbox:hover {
    border-color: #5c6a93;
    background: linear-gradient(165deg, #2f3d60 0%, #1f2942 100%);
  }

  .unidentified-checkbox:checked {
    border-color: #5bf2b7;
    background: linear-gradient(165deg, var(--color-accent-hover) 0%, var(--color-accent) 100%);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.2' d='M3.2 8.5 6.7 12l6.1-7'/%3E%3C/svg%3E");
    box-shadow:
      inset 0 0 0 1px rgb(255 255 255 / 0.22),
      0 0 0 1px rgb(249 115 22 / 0.25),
      0 3px 10px rgb(249 115 22 / 0.35);
  }

  .unidentified-checkbox:active {
    transform: translateY(1px);
  }

  .unidentified-checkbox:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px var(--color-surface-1),
      0 0 0 4px rgb(249 115 22 / 0.45);
  }

  .unidentified-checkbox:disabled {
    cursor: not-allowed;
    opacity: 0.45;
  }

  .poster-shimmer {
    background: linear-gradient(
      110deg,
      var(--color-surface-2) 0%,
      var(--color-surface-3) 40%,
      var(--color-surface-2) 60%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
  }

  .skeleton {
    background: linear-gradient(
      90deg,
      var(--color-surface-2) 25%,
      var(--color-surface-3) 50%,
      var(--color-surface-2) 75%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
    border-radius: 8px;
  }
}

@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes drift-in {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}
